# Caddyfile for Relay Voice Server

{
    # Global options
    auto_https off
}

# Development setup (HTTP)
:80 {
    reverse_proxy relay-voice:8080
    
    # Enable WebSocket support
    @websockets {
        header Connection *Upgrade*
        header Upgrade websocket
    }
    reverse_proxy @websockets relay-voice:8080
}

# Production setup with SSL (uncomment and modify domain)
# relay.yourdomain.com {
#     reverse_proxy relay-voice:8080
#     
#     @websockets {
#         header Connection *Upgrade*
#         header Upgrade websocket
#     }
#     reverse_proxy @websockets relay-voice:8080
#     
#     # Optional: Basic auth for security
#     # basicauth {
#     #     user $2a$14$...hashed_password...
#     # }
# }
